{"ast":null,"code":"import React,{useState}from'react';import'./ChatUI.css';import axios from'axios';import{Configuration,OpenAIApi}from'https://cdn.skypack.dev/openai';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ChatUI=()=>{const[inputValue,setInputValue]=useState('');// input 창에 입력된 내용  \nconst templateFront=\"<div class=\\\"line\\\"><span class=\\\"chat-box mine\\\">\";// 추가되는 채팅의 html 형식 고정 앞부분\nconst templateBack='</span></div>';// 추가되는 채팅의 html 형식 고정 뒷부분\nconst addChat=()=>{let template=templateFront+inputValue+templateBack;let chatContent=document.querySelector('.chat-content');chatContent.insertAdjacentHTML('beforeend',template);setInputValue('');const configuration=new Configuration({apiKey:'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'});const openai=new OpenAIApi(configuration);openai.createCompletion({model:\"text-davinci-002\",prompt:inputValue,temperature:0.9,max_tokens:256,top_p:1,frequency_penalty:0,presense_penalty:0}).then(result=>{console.log(result.data.choices[0].text);let front=\"<div class=\\\"line\\\"><span class=\\\"chat-box\\\"></span>\";let back='</span></div>';template=front+result.data.choices[0].text+back;chatContent.insertAdjacentHTML('beforeend',template);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"chat-content\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"line\",children:/*#__PURE__*/_jsx(\"span\",{class:\"chat-box\",children:\"\\uC548\\uB155?\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"line\",children:/*#__PURE__*/_jsx(\"span\",{class:\"chat-box mine\",children:\"\\uC548\\uB155!\"})})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"chat-box\",value:inputValue,onChange:e=>setInputValue(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:addChat,children:\"\\uC804\\uC1A1\"})]});};export default ChatUI;","map":{"version":3,"names":["React","useState","axios","Configuration","OpenAIApi","jsx","_jsx","jsxs","_jsxs","ChatUI","inputValue","setInputValue","templateFront","templateBack","addChat","template","chatContent","document","querySelector","insertAdjacentHTML","configuration","apiKey","openai","createCompletion","model","prompt","temperature","max_tokens","top_p","frequency_penalty","presense_penalty","then","result","console","log","data","choices","text","front","back","children","class","type","value","onChange","e","target","onClick"],"sources":["D:/VsCodeDevelopment/ExpressMyChatBot/my_chat_bot/src/Chat/ChatUI.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './ChatUI.css';\r\nimport axios from 'axios';\r\nimport {Configuration, OpenAIApi} from 'https://cdn.skypack.dev/openai';\r\n\r\nconst ChatUI= ()=> {\r\n  const [inputValue, setInputValue] = useState(''); // input 창에 입력된 내용  \r\n\r\n  const templateFront=`<div class=\"line\"><span class=\"chat-box mine\">`; // 추가되는 채팅의 html 형식 고정 앞부분\r\n  const templateBack='</span></div>'; // 추가되는 채팅의 html 형식 고정 뒷부분\r\n\r\n  const addChat = () => {\r\n    let template=templateFront+inputValue+templateBack;\r\n    let chatContent = document.querySelector('.chat-content');\r\n    chatContent.insertAdjacentHTML('beforeend', template);\r\n    setInputValue(''); \r\n    \r\n    const configuration=new Configuration({\r\n      apiKey: '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',\r\n    });\r\n\r\n    const openai=new OpenAIApi(configuration);\r\n\r\n    openai.createCompletion({\r\n      model:\"text-davinci-002\",\r\n      prompt:inputValue,\r\n      temperature:0.9,\r\n      max_tokens:256,\r\n      top_p:1,\r\n      frequency_penalty:0,\r\n      presense_penalty:0,\r\n    }).then((result)=>{\r\n      console.log(result.data.choices[0].text);\r\n      let front=`<div class=\"line\"><span class=\"chat-box\"></span>`;\r\n      let back='</span></div>';\r\n      template=front+result.data.choices[0].text+back;\r\n      chatContent.insertAdjacentHTML('beforeend', template);\r\n    })\r\n  \r\n\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div class=\"chat-content\">\r\n        <div class=\"line\">\r\n            <span class=\"chat-box\">안녕?</span>\r\n        </div>\r\n        <div class=\"line\">\r\n            <span class=\"chat-box mine\">안녕!</span>\r\n        </div>\r\n      </div>\r\n      <input type=\"text\" class=\"chat-box\" value={inputValue} onChange={(e)=>setInputValue(e.target.value)} />\r\n      <button onClick={addChat}>전송</button>\r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nexport default ChatUI;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,cAAc,CACrB,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAAQC,aAAa,CAAEC,SAAS,KAAO,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExE,KAAM,CAAAC,MAAM,CAAEA,CAAA,GAAK,CACjB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAAE;AAElD,KAAM,CAAAW,aAAa,qDAAiD,CAAE;AACtE,KAAM,CAAAC,YAAY,CAAC,eAAe,CAAE;AAEpC,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,GAAI,CAAAC,QAAQ,CAACH,aAAa,CAACF,UAAU,CAACG,YAAY,CAClD,GAAI,CAAAG,WAAW,CAAGC,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC,CACzDF,WAAW,CAACG,kBAAkB,CAAC,WAAW,CAAEJ,QAAQ,CAAC,CACrDJ,aAAa,CAAC,EAAE,CAAC,CAEjB,KAAM,CAAAS,aAAa,CAAC,GAAI,CAAAjB,aAAa,CAAC,CACpCkB,MAAM,CAAE,qDACV,CAAC,CAAC,CAEF,KAAM,CAAAC,MAAM,CAAC,GAAI,CAAAlB,SAAS,CAACgB,aAAa,CAAC,CAEzCE,MAAM,CAACC,gBAAgB,CAAC,CACtBC,KAAK,CAAC,kBAAkB,CACxBC,MAAM,CAACf,UAAU,CACjBgB,WAAW,CAAC,GAAG,CACfC,UAAU,CAAC,GAAG,CACdC,KAAK,CAAC,CAAC,CACPC,iBAAiB,CAAC,CAAC,CACnBC,gBAAgB,CAAC,CACnB,CAAC,CAAC,CAACC,IAAI,CAAEC,MAAM,EAAG,CAChBC,OAAO,CAACC,GAAG,CAACF,MAAM,CAACG,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CACxC,GAAI,CAAAC,KAAK,uDAAmD,CAC5D,GAAI,CAAAC,IAAI,CAAC,eAAe,CACxBxB,QAAQ,CAACuB,KAAK,CAACN,MAAM,CAACG,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,IAAI,CAACE,IAAI,CAC/CvB,WAAW,CAACG,kBAAkB,CAAC,WAAW,CAAEJ,QAAQ,CAAC,CACvD,CAAC,CAAC,CAGJ,CAAC,CAED,mBACEP,KAAA,QAAAgC,QAAA,eACEhC,KAAA,QAAKiC,KAAK,CAAC,cAAc,CAAAD,QAAA,eACvBlC,IAAA,QAAKmC,KAAK,CAAC,MAAM,CAAAD,QAAA,cACblC,IAAA,SAAMmC,KAAK,CAAC,UAAU,CAAAD,QAAA,CAAC,eAAG,CAAM,CAAC,CAChC,CAAC,cACNlC,IAAA,QAAKmC,KAAK,CAAC,MAAM,CAAAD,QAAA,cACblC,IAAA,SAAMmC,KAAK,CAAC,eAAe,CAAAD,QAAA,CAAC,eAAG,CAAM,CAAC,CACrC,CAAC,EACH,CAAC,cACNlC,IAAA,UAAOoC,IAAI,CAAC,MAAM,CAACD,KAAK,CAAC,UAAU,CAACE,KAAK,CAAEjC,UAAW,CAACkC,QAAQ,CAAGC,CAAC,EAAGlC,aAAa,CAACkC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cACvGrC,IAAA,WAAQyC,OAAO,CAAEjC,OAAQ,CAAA0B,QAAA,CAAC,cAAE,CAAQ,CAAC,EAClC,CAAC,CAGV,CAAC,CAED,cAAe,CAAA/B,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}